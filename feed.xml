<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <description>このサイトでは、Ryo Nakamura（@r7kamura）が、日々の生活やプログラミングに関する文章を公開しています。</description>
    <link>https://r7kamura.com</link>
    <atom:link href="https://r7kamura.com/feed.xml" rel="self"/>
    <title>r7kamura.com</title>
    <managingEditor>r7kamura@gmail.com (Ryo Nakamura)</managingEditor>
    
    <item>
      <title><![CDATA[二文字エイリアス]]></title>
      <description><![CDATA[シェルの独自エイリアスを全て二文字に統一してみた。]]></description>
      <link>https://r7kamura.com/articles/2020-10-15-alias</link>
      <pubDate>Thu, 15 Oct 2020 00:00:00 +0900</pubDate>
      <content:encoded><![CDATA[<p>シェルの独自エイリアスを全て二文字に統一してみた。</p>

<pre><code>alias ga='git_fuzzy_stage_files; git status --short'
alias gb='git branch'
alias gc='git_fuzzy_branch_switch'
alias gd='git diff HEAD'
alias gg='git grep'
alias gm='git_commit_with_arguments_message'
alias gr='git_replace'
alias gs='git status --short'
alias gz='git_branch_delete_merged'
alias pr='gh pr view -w || gh pr create -w'
alias qe='ghq_fuzzy_switch'
alias qf='ghq get -p'
alias sb='source ~/.bashrc'
alias ta='tmux_fuzzy_attach_session'
alias tl='tmux_list_session'
alias tn='tmux_create_new_session_from_pwd'
</code></pre>

<p>2020年10月15日時点での<a href="https://github.com/r7kamura/dotfiles">dotfiles</a>から抜粋。1文字目でカテゴリを、2文字目でコマンドを決めるような設計の命名を試してみている。ほとんどの作業がエディタで完結しているので、実際にはこの辺りの使い勝手の改善はほとんど遊びみたいなもの。</p>

<p>ところで、最近は <code>-s</code> のようなショートオプションより、<code>--short</code> のようなロングオプションの方を好んで使うようになった。意図は曖昧だが、検索しやすさ、説明しやすさ、覚えやすさがあって嬉しい気がする。この話とエイリアスを二文字にした話は、一見して相反しそうなものの、意外と上手く落ち着いていて不思議。</p>
]]></content:encoded>
      <guid>https://r7kamura.com/articles/2020-10-15-alias</guid>
    </item>
    
    <item>
      <title><![CDATA[プライムデー]]></title>
      <description><![CDATA[Amazonプライムデーが来たので色々買った。]]></description>
      <link>https://r7kamura.com/articles/2020-10-13-prime-day</link>
      <pubDate>Tue, 13 Oct 2020 00:00:00 +0900</pubDate>
      <content:encoded><![CDATA[<p><a href="/images/2020-10-13-prime-day-beer.jpg" target="_blank"><img src="/images/2020-10-13-prime-day-beer.jpg" alt=""></a></p>

<p>Amazonプライムデーが来たので色々買った。</p>

<h2>買ったもの</h2>

<ul>
<li><a href="https://www.amazon.co.jp/dp/B00FZTNX8W/?tag=r7kamura07-22">エレコム USB Type-Aのハブ</a></li>
<li><a href="https://www.amazon.co.jp/dp/B00NH134L6/?tag=r7kamura07-22">Amazonベーシック USB延長ケーブル</a></li>
<li><a href="https://www.amazon.co.jp/dp/B07KCL8WZK/?tag=r7kamura07-22">Satechi USB変換アダプタ</a></li>
<li><a href="https://www.amazon.co.jp/dp/B08CH9F47P/?tag=r7kamura07-22">アリエール ジェルボール</a></li>
<li><a href="https://www.amazon.co.jp/dp/B004TJRPA6/?tag=r7kamura07-22">箕面ビール ヴァイツェン</a></li>
</ul>

<p>主にデスクの配線用品。今までマウスやキーボードやウェブカメラなどを直接PCと接続していたけど、ケーブルがごちゃついたり長さが足りなかったりと不満があったので、USBハブに集約してからPCと繋ぐ作戦でいくことにした。</p>

<p>洗濯洗剤を液体タイプから乗り換えて、しばらくジェルボールを使っていくことにした。最近発売された、アリエールの微香タイプのやつ。飴玉みたいだったので、容器として面白半分で無印の<a href="https://www.muji.com/jp/ja/store/cmdty/detail/4547315759514">ソーダガラス密封ビン</a>も買ってみたが、上手く収まるのかは不明。</p>

<p>箕面ビールを久しぶりに飲みたくなったので少しだけ買った。箕面ビールは、ガツンとした強い勢いがありながら同時に丁寧な雰囲気も感じられるので面白い。</p>

<h2>気になっているもの</h2>

<ul>
<li><a href="https://www.amazon.co.jp/dp/B07Q9C5KR9/?tag=r7kamura07-22">LG 55V型有機ELテレビ 55B9PJA</a></li>
<li><a href="https://www.amazon.co.jp/dp/B07TWC6C2D/?tag=r7kamura07-22">象印 炊飯器 NW-ES07-BZ</a></li>
<li><a href="https://www.amazon.co.jp/dp/B01D7WU9IU/?tag=r7kamura07-22">Vivere ハンモック</a></li>
<li><a href="https://www.amazon.co.jp/dp/B088BN6JKQ/?tag=r7kamura07-22">Logicool キーボード G913-TKL-LNBK</a></li>
</ul>

<p>この辺が気になっている。たまたま目に入った有機ELのテレビの値引きがわりとすごくて、プライムデー中のタイミング次第だと思うけど30%オフで購入できたりするらしい。</p>

<p>2020年1月に書いた抱負を振り返っていたら「炊飯器を買い換える」と書いてあったので、象印かパナソニックでいいやつを買おうと思っている。ひとでくんが使っているやつに興味が湧いたので欲しくなってきている。</p>

<p>ハンバーガーさんが<a href="https://hundredburger.fanbox.cc/posts/1488778">ハンモックの記事</a>を書いていて、そういえば自宅に客人が来たときに寝られるところが無くて毎回苦労させているし、プロジェクタで映像を見るときに適当なスポットも欲しかったし、でかいサメを載せておいたりしたいので、ハンモックが欲しくなっている。ハンモックって書こうとしてここまでで3回ぐらい間違えてハンバーガーって入力して消している。</p>

<p>漫画を読むときにディスプレイを手前に引き寄せて使ったりしているので、使い勝手を上げるためにキーボードを無線化したく、ロジクールから新しく発売されたG913-TKLが気になっている。タクタイルキーも少し気になったけど、多分静音性を優先するとリニアが正着っぽい。</p>
]]></content:encoded>
      <guid>https://r7kamura.com/articles/2020-10-13-prime-day</guid>
    </item>
    
    <item>
      <title><![CDATA[排水口の掃除]]></title>
      <description><![CDATA[ひさしぶりに浴室の排水口を掃除した。]]></description>
      <link>https://r7kamura.com/articles/2020-10-12-ember-restored</link>
      <pubDate>Mon, 12 Oct 2020 00:00:00 +0900</pubDate>
      <content:encoded><![CDATA[<p><a href="/images/2020-10-12-ember-restored.jpg" target="_blank"><img src="/images/2020-10-12-ember-restored.jpg" alt=""></a></p>

<p>ひさしぶりに浴室の排水口を掃除した。</p>

<p>先週末に頭痛で悩まされたので、生活習慣の悪化から来る体調不良かと思い、リングフィットアドベンチャーを再開。同時にシャワーだけで済ませていたのもやめて入浴も再開し、どれ久しぶりに排水溝の様子を見てみようと覗いてみたところ、ダークソウルの沼地みたいになっていたので慌てて掃除をしたという経緯。</p>

<p>とりあえず応急処置的な掃除はしたものの、画像を見ていただければわかる通りまだ完全に倒しきれていない。そもそも適切な掃除用品が揃っていないことに気付いたので一旦中断している。無印良品で適当にブラシと洗剤を購入したので、今週から丁寧にやっていきたい。</p>

<p>掃除といえば、流石に古くなってきたルンバの買い替え、洗濯用洗剤の見直し、ガラクタ入れに入っている不燃物の廃棄、書類棚の拡張、1Passwordの整理など、後半掃除関係なくなってきてるけど色々とやりたいことがあったのを思い出した。TODOリストみたいなものを使っていないので、実質的にこの記事がTODOリストということになる。忘れたらこの排水口の汚い画像の記事に戻ってくることにする。掃除用品が届いて綺麗になったら画像を差し替えたい…</p>
]]></content:encoded>
      <guid>https://r7kamura.com/articles/2020-10-12-ember-restored</guid>
    </item>
    
    <item>
      <title><![CDATA[シャンプーとかを壁に吊る]]></title>
      <description><![CDATA[浴室の掃除を楽にするために、シャンプーとかを壁に吊ることにした。]]></description>
      <link>https://r7kamura.com/articles/2020-10-11-hanging-shampoo</link>
      <pubDate>Sun, 11 Oct 2020 00:00:00 +0900</pubDate>
      <content:encoded><![CDATA[<p>浴室の掃除を楽にするために、シャンプーとかを壁に吊ることにした。</p>

<figure><a href="/images/2020-10-11-hanging-shampoo-main.jpg" target="_blank"><img src="/images/2020-10-11-hanging-shampoo-main.jpg" alt=""></a><figcaption>試行錯誤して吊っている様子</figcaption></figure>

<p>この辺のものを使うことにした。</p>

<ul>
<li><a href="https://www.amazon.co.jp/dp/B07MCBSGDJ/?tag=r7kamura07-22">山崎実業のマグネット式のタオルハンガー</a></li>
<li><a href="https://www.amazon.co.jp/dp/B0872TWRT2/?tag=r7kamura07-22">トスレのボトルハンギングフック</a></li>
<li><a href="https://www.muji.com/jp/ja/store/cmdty/detail/4550002867928">無印良品のPET詰替ボトル</a></li>
<li><a href="https://www.muji.com/jp/ja/store/cmdty/detail/4548076448341">無印良品の化粧水</a></li>
</ul>

<p>最近の浴室は、壁面に磁石を付けられるようになっていることが意外と多い。トスレのフックは、セリアに行ける人であればそこで買うほうが安く手に入れられるかも。無印良品は、最近になってAmazonでの販売もはじまったけど、まだまだレパートリーが少なかったり、値段設定が高かったりしてなかなか難しい。</p>

<p>泡タイプの洗顔料だけボトルの口径が異なるので、あまり上手くいっていない。何か良い案があれば教えてほしい。スプレータイプの化粧水は、こういうところに雑に引っ掛けられるので便利。化粧水がなぜ洗面台ではなく風呂場にあるのかという謎は残るが、現状そういう運用になってしまっている。</p>

<figure><a href="/images/2020-10-11-hanging-shampoo-items.jpg" target="_blank"><img src="/images/2020-10-11-hanging-shampoo-items.jpg" alt=""></a><figcaption>ついでに無印良品で色々買った</figcaption></figure>

<p>掃除が上手く行かない理由として、</p>

<ul>
<li>性格が一致していない</li>
<li>掃除が好きではない</li>
<li>綺麗好きではない</li>
</ul>

<p>というところに原因を求めていた時期もあったが、どうやら掃除しやすい設計になっているかどうかが支配的な要因で、その手の知見を持っているかどうかが大事だということが分かってきた。その辺りの改善を楽しくやれるかどうかもまた、知識の有無に左右される。高等教育あたりですべてを教えてほしかった。</p>
]]></content:encoded>
      <guid>https://r7kamura.com/articles/2020-10-11-hanging-shampoo</guid>
    </item>
    
    <item>
      <title><![CDATA[2020年に使った有料購読サービス]]></title>
      <description><![CDATA[今年も、利用した有料購読型サービスをまとめておく。]]></description>
      <link>https://r7kamura.com/articles/2020-10-10-subscriptions-2020</link>
      <pubDate>Sat, 10 Oct 2020 00:00:00 +0900</pubDate>
      <content:encoded><![CDATA[<p>今年も、利用した有料購読型サービスをまとめておく。</p>

<ul>
<li><a href="/articles/2019-11-16-subscriptions-2019">2019年に使った有料購読サービス</a></li>
<li><a href="/articles/2018-11-26-subscriptions-2018">2018年に使った有料購読サービス</a></li>
<li><a href="/articles/2018-01-03-subscriptions-2017">2017年に使った有料購読サービス</a></li>
</ul>

<p>金額をまとめるついでに、そのサービスに関連した取り留めのない話をまとめる会になってしまっている節はある。</p>

<h2>Nintendo Switch Online</h2>

<p>月額306円（税込）</p>

<p>この辺のタイトルで利用した。</p>

<ul>
<li>ポケットモンスター ソード・シールド</li>
<li>ファイアーエムブレム 風花雪月</li>
<li>リングフィット アドベンチャー</li>
<li>ファイナルファンタジー・クリスタルクロニクル</li>
</ul>

<p>思い返すと、ポケモン剣盾はすごく楽しめた。出会うたびにトレーナーとして急速に成長していくライバルは、なんとなくポケモンやってどんどん強くなっていく主人公のことを、一体どういう目で見ていたのだろう。<a href="https://www.youtube.com/watch?v=BoZ0Zwab6Oc">ポケモンの新しいMV</a>を見て、つい思い出してしまった。</p>

<p>今年前半はリングフィットアドベンチャーを毎日やり、知人とミニゲームでスコアを競っては、勝利したスクショを送り付けたり、スコアを追い越せないつらさで震えながらプロテインを飲むというような日々を過ごしていた。最近すっかりサボリ気味になってしまったが、よくやっていた頃は毎日心身ともに健康に過ごせていたので、また再開すべきだろう。</p>

<h2>Discord Nitro</h2>

<p>月額$9.99（税込）</p>

<p>Discordは毎日ありがたく使わせてもらっている。知り合いがゲームの配信をしているのを見たり、適当に通話したりというのも日常化している。Discordベースのコミュニティに何個か所属していて、Discordが無いとコミュニケーションを取る機会がほぼ無いような繋がりの人達も多い。</p>

<p>有料機能を活用しているという気持ちはなく、単にお布施としてお金を払うために購読しているところがある。いや、アニメーション絵文字を頻繁に使っているから、使っていると言えば使っているか。<a href="https://cultofthepartyparrot.com/">Party Parrot</a>をよく使う気がする。</p>

<h2>YouTube Premium</h2>

<p>月額1180円（税込）</p>

<p>購読しはじめて3年目だが、これ無しでの生活は考えられない。YouTubeに広告が出ないことが自分の中で当たり前になってしまって、たまに会話中に広告の話をされると、そういえば広告が存在していたのだったと思い出すことがある。</p>

<p>衣食住やゲームについて調べものをするときに、YouTubeが最も便利だったりすることがあって面白い。最近は<a href="/articles/2020-09-25-workspace-pictures">PCデスク周りの情報源</a>を調べるのによく利用している。自分の周りでは著名なVTuberやYouTuberを追いかけている人が多い一方、自分では積極的に見にいくことが無い。たまに話題を振られると、テレビに出てくる芸能人の話題を振る構図と同じだなと感じることがある（話が通じる程度には知識を持っている自分もまた、その構図の中に居るなと感じる）。</p>

<p>音を聴くためにも使っていることが多い。といっても、作業中に何か流れていたら良いなという温度感で流している。一時期はSpotifyを試していたこともあったけど、結局長続きしなかった。音楽を聴くために音楽を聴いたり、特定の人の曲を聴く、好きな曲を発見するというモチベーションがあまり湧いていない。</p>

<h2>Netflix</h2>

<p>月額1320円（税込）</p>

<p>今年は落ち着いて映像を見る習慣があまり付けられておらず、あまり活用できなかった。アニメ・洋画・ドキュメンタリーを98:1:1ぐらいの割合で見ていると思う。</p>

<p>dアニメストアを試用していた時期もあったが、なぜか長続きしなかった。学校とか職場で昨日の放送について話したりということをしなくなったし、Twitterで実況みたいな文化も身の回りではほとんど失われてしまったから、最速で配信されることにあまり価値を感じなくなったのかも。とはいえDiscordで通話しているとたまにまだ見ていない話が話題に登ったりして困ることもある。</p>

<p>自分が見たいものはAbemaTV、Amazonプライムビデオ、Netflixで大体カバーできているつもりではあるのだけど、たまに劇場版アニメの配信がdアニメストアにしか来なかったりすることがあるので、そういうものを見る月だけピンポイントに契約するような使い方になっていくと思う。</p>

<h2>freee</h2>

<p>月額980円（税抜）</p>

<p>確定申告用。慣れもあり、確定申告作業に要する時間が年々減ってきている。今年は、持続化給付金を申請するのにも役に立った。競合サービスと比べて考えたときのfreeeは、UIはいささか使いづらいものの、自動仕訳の機能が優れていて、それが使う理由になっている。これでUIが良くなったら最強になってしまうとは思うが、この手のサービスってドメインロジックが業務の性質上めちゃくちゃ難しく、壊しながら改善していくということもやりづらいので、賢くやらなければいけないし、特に難しい領域なのだろうなと思っている。</p>

<h2>IIJ mio</h2>

<p>月額1600円（税抜）</p>

<p>内訳は、基本料金900円 + 電話とSMSに700円。今年は本当に外に出なかったので、通信量をかなり持て余してしまったた。十分に安いし、サービス内容にも満足している。<a href="/articles/2016-10-08-h">ソフトバンクからIIJmioに乗り換えた</a>ときの記事が未だによく読まれている。「格安SIMとかいうやつよく分からんねんけど」と相談されたときに、とりあえずの説明としてこの記事を出すことが多い。</p>

<h2>NTT</h2>

<p>月額3980円（税抜）</p>

<p>インターネット用の固定回線。本当はNURO光を使いたい。</p>

<h2>Interlink</h2>

<p>月額1100円（税込）</p>

<p>インターリンクはお気に入りのプロバイダのひとつ。ZOOT NATIVEというサービスを使っている。DS-Lite方式で接続してるんだけど、この方式だとルーターの設定がめちゃくちゃ簡単なので、その点もそこそこ嬉しい。</p>

<h2>Amazon Mastercard Gold</h2>

<p>年額11000円（税込）</p>

<p>年額4900円のAmazonプライム会費が無料になる。Amazonからの買い物で2.5%、Amazon以外からの買い物で1%、それぞれAmazonのポイントが付く。去年クレジットカードを整理して、主にこの1枚だけを使っている。</p>

<p>クレジットカード周り色々調べて頑張ったらもっと色々お得なサービスを受けられたりしそうだけど、あんまり頑張りたくないという気持ちが強い。頑張らずに得になるタイプの情報がほしい。</p>

<h2>Amazon Route 53</h2>

<p>年額$12（税抜）</p>

<p>r7kamura.comドメインの登録に利用している。現状個人ではこれだけしかドメインを持っていなくて、管理が随分と単純になった。</p>

<p>購読サービスではないから記載していないけど、DNSの解決などにも微妙にお金は掛かっている。ところで、毎月のAWSの請求書を見ると微妙に想定より金額が多いなと数ヶ月ほど不思議に思っていたが、実は実験中に発生したRDSの不要なバックアップがずっと残り続けていたことが発覚し、この前ようやく消せてすっきりした。</p>

<h2>総評</h2>

<p>今年は合計でおよそ158,523円（税込）だった。インターネットに毎月1万円ぐらい払っているという感覚を持っておけば良さそうだ。</p>

<p>2020年は途中で契約したり値段が変わったりしたサービスが存在しなかったので、簡単な計算で算出できる。</p>

<pre><code># 円/ドル
yen_per_dollar_rate = 105.64

# 税込/税抜
consumption_tax_rate = 1.1

# 総額
(
  306 +
  9.99 * yen_per_dollar_rate +
  1180 +
  1320 +
  980 * consumption_tax_rate +
  1600 * consumption_tax_rate +
  3980 * consumption_tax_rate +
  1100
) * 12 +
11000 +
12 * yen_per_dollar_rate * consumption_tax_rate
</code></pre>

<p>去年は消費税が変わったり途中から契約を変えたものがあったりと事情が色々と難しかったが、仮に消費税が10%だったものとして比較すると去年は157,978円（税込）になるので、そこまで総額は変わっていない。ドメイン代、Discord Nitro、Nitendo Switch Onlineの契約期間の関係でむしろ大きく増えたかと思っていたが、ウォーターサーバを使わなくなったことで相殺されたのだと思う。</p>

<p>お金を払っているということは、やはりある程度気持ちが存在しているということでもあるので、お金を払っているものについて話そうとするとネタが尽きない。今年もしっかりまとめられて安心した。来年もまたまとめたい。</p>
]]></content:encoded>
      <guid>https://r7kamura.com/articles/2020-10-10-subscriptions-2020</guid>
    </item>
    
    <item>
      <title><![CDATA[かなでものの机]]></title>
      <description><![CDATA[20年ぶりに机を新調した。]]></description>
      <link>https://r7kamura.com/articles/2020-10-09-desk</link>
      <pubDate>Fri, 09 Oct 2020 00:00:00 +0900</pubDate>
      <content:encoded><![CDATA[<p>20年ぶりに机を新調した。</p>

<p><a href="/images/2020-10-09-desk.jpg" target="_blank"><img src="/images/2020-10-09-desk.jpg" alt=""></a></p>

<p><a href="https://kanademono.design/">かなでもの</a>の、幅180cm・奥行80cmのラバーウッドの天板と、X型の脚を組み合わせた。脚の形状が可愛いのが気に入っている。杉無垢材かラバーウッドかで迷ったが、落ち着いた見た目と硬い表面の使い勝手を優先し、ラバーウッドの天板を選択した。</p>

<p><a href="/images/2020-10-09-desk-2.jpg" target="_blank"><img src="/images/2020-10-09-desk-2.jpg" alt=""></a></p>

<p>天板の加工が優れていて、思っていたより表面や角のさわり心地が良い。購入前は少し大きすぎるかもしれないと思っていたが、使ってみるとそういうこともなかった。机が大きいと満足感がある。</p>

<figure><a href="/images/2020-10-09-desk-old.jpg" target="_blank"><img src="/images/2020-10-09-desk-old.jpg" alt=""></a><figcaption>これまで使っていた机</figcaption></figure>

<p>これまではGarageのFantoniという机を2枚繋げて使っていた。20年使ったが、丁寧に使えばもう20年ぐらいは使えたと思う。引っ越しが多く、分解・組み立て作業や頻繁な移動を繰り返したこともあり、流石に脚の接合部のガタつき方が怪しくなってきていた。</p>

<hr>

<p>過去に使っていた机の情報は、<a href="/articles/2014-12-31-h">デスク遍歴</a>にもまとめてある。2014年にまとめたきりで、もう6年前の情報になってしまっているので、年末頃にまた一度まとめ直したい。</p>
]]></content:encoded>
      <guid>https://r7kamura.com/articles/2020-10-09-desk</guid>
    </item>
    
    <item>
      <title><![CDATA[キッチンツールハンガー]]></title>
      <description><![CDATA[キッチン用品を吊りたいと思い、いろいろ調べてレックのステンレス製で伸縮式でレバー式吸盤のやつを買った。]]></description>
      <link>https://r7kamura.com/articles/2020-10-08-kitchen-tool-hanger</link>
      <pubDate>Thu, 08 Oct 2020 00:00:00 +0900</pubDate>
      <content:encoded><![CDATA[<p><a href="/images/2020-10-08-kitchen-tool-hanger.jpg" target="_blank"><img src="/images/2020-10-08-kitchen-tool-hanger.jpg" alt=""></a></p>

<p>キッチン用品を吊りたいと思い、いろいろ調べて<a href="https://www.amazon.co.jp/dp/B073J5NZK2/?tag=r7kamura07-22">レックのステンレス製で伸縮式でレバー式吸盤のやつ</a>を買った。</p>

<p>うちのレンジフードにはあまり良い引っ掛けポイントが無いため、上手く道具を吊るには吸盤式の何かを壁面に付けるしかなかった。吸盤式と言うと、吸着力が低くすぐに落ちてしまうものが多いので、吸着力がより高いものを探すことに。</p>

<p>吸盤の吸着力をより高めるギミックとして、</p>

<ul>
<li>レバー式</li>
<li>ボタン式</li>
<li>ダイヤル式</li>
</ul>

<p>などが存在しているらしい。また、うちの壁面はタイルっぽい加工でいささか難しいことになっているため、伸縮式・回転式でとにかく自由度の高いものをと探していたところ、レックからちょうど良さそうな製品が出ているのを見つけたので、使ってみることにした。</p>

<p>耐荷重4kgとのことなので、鍋などを吊るには流石に不安があるが、これぐらいの軽い調理器具を吊る程度であれば十分な強度を備えていると思う。レバー式を選んだのはやはり正解で、本当にしっかりくっついている印象を受ける。とか言ってたら明日の朝落ちたりしてそうで怖い。</p>

<hr>

<p>ちなみにこのS字フックは、その昔シェアハウスをしていた時代、pokutunaさんに贈ってもらったものだ。なぜか6年経った今でも使い続けている。</p>

<blockquote>
<p>UNIXという考え方に則るとS字フックが現実世界における最高のツールの一つであることは自明</p>

<p><a href="https://twitter.com/pokutuna/status/483630149372362752">2014年7月1日</a> <a href="https://twitter.com/pokutuna">@pokutuna</a></p>
</blockquote>

<figure><a href="/images/2020-10-08-kitchen-tool-hanger-tqhouse.jpg" target="_blank"><img src="/images/2020-10-08-kitchen-tool-hanger-tqhouse.jpg" alt=""></a><figcaption>2015年・シェアハウスにて</figcaption></figure>

<p>思えばシェアハウスでも、S字フックは大活躍していた。生涯を終えた吸盤に代わり、タオルを支える技術としてキッチンで役に立っていたこともあった。</p>

<figure><a href="/images/2020-10-08-kitchen-tool-hanger-kyoto.jpg" target="_blank"><img src="/images/2020-10-08-kitchen-tool-hanger-kyoto.jpg" alt=""></a><figcaption>2017年・京都時代の自宅にて</figcaption></figure>

<p>京都に住んでいたときも、S字フックは共に在った。洗濯バサミと併用していたようだ。食器用の布巾などを引っ掛けるのに使っていた気がする。このレンジフードは形状が良く、S字フック達も心なしか喜んでいるように見える。</p>

<figure><a href="/images/2020-10-08-kitchen-tool-hanger-now.jpg" target="_blank"><img src="/images/2020-10-08-kitchen-tool-hanger-now.jpg" alt=""></a><figcaption>2020年・都内の自宅にて</figcaption></figure>

<p>枯れた技術を使うということは、何も古い技術だけに頼るという意味ではない。色々な技術を遠慮せず使っていくことに価値があるのだ――とかこの辺に数行程度書いておくと、良い具合に文章が引き締まり、気持ちよく記述を終われる気がする。</p>
]]></content:encoded>
      <guid>https://r7kamura.com/articles/2020-10-08-kitchen-tool-hanger</guid>
    </item>
    
    <item>
      <title><![CDATA[SoundSwitch]]></title>
      <description><![CDATA[Windowsで音声出力デバイスをスピーカー用とヘッドホン用とで高速に切り替えるために、SoundSwitchというアプリを入れた。]]></description>
      <link>https://r7kamura.com/articles/2020-10-06-sound-switch</link>
      <pubDate>Tue, 06 Oct 2020 00:00:00 +0900</pubDate>
      <content:encoded><![CDATA[<p><a href="/images/2020-10-06-sound-switch.gif" target="_blank"><img src="/images/2020-10-06-sound-switch.gif" alt=""></a></p>

<p>Windowsで音声出力デバイスをスピーカー用とヘッドホン用とで高速に切り替えるために、<a href="https://soundswitch.aaflalo.me/">SoundSwitch</a>というアプリを入れた。ショートカットキーを押すと、登録しておいた音声デバイス群を順に切り替えていってくれるという仕組み。頻繁に使う機能なので、現代においては使われることの少ない<a href="https://ja.wikipedia.org/wiki/%E3%83%96%E3%83%AC%E3%83%BC%E3%82%AF%E3%82%AD%E3%83%BC">ブレークキー</a>に割り当ててみている。</p>

<p>同じことを実現できるアプリとして、他に<a href="https://audioswit.ch/er">AudioSwitcher</a>があるが、知人曰く幾らか面倒な挙動があるとのことだったので、今回はこちらを使うことにした。</p>

<p>wingetで入れられるかと思いきや、wingetだと古いバージョンを入れようとして失敗してしまうようだったので、今回は諦めて普通にインストールすることに。現在でも活発に開発されているようだったので、<a href="https://github.com/Belphemur/SoundSwitch/issues/512">新しいやつを登録してくれというIssue</a>を出してみておいた。</p>
]]></content:encoded>
      <guid>https://r7kamura.com/articles/2020-10-06-sound-switch</guid>
    </item>
    
    <item>
      <title><![CDATA[五徳は使うときだけ]]></title>
      <description><![CDATA[とあるきっかけでマーチソンフュームのフードセーフスプレーを手に入れ、最近はキッチン周りの掃除が捗っている。]]></description>
      <link>https://r7kamura.com/articles/2020-10-05-gotoku</link>
      <pubDate>Mon, 05 Oct 2020 00:00:00 +0900</pubDate>
      <content:encoded><![CDATA[<p><a href="/images/2020-10-05-gotoku.jpg" target="_blank"><img src="/images/2020-10-05-gotoku.jpg" alt=""></a></p>

<p>とあるきっかけでマーチソンフュームの<a href="https://www.amazon.co.jp/dp/B00K0KYB28/?tag=r7kamura07-22">フードセーフスプレー</a>を手に入れ、最近はキッチン周りの掃除が捗っている。ボトルの見た目が良く、油汚れがそれなりに落ち、そしてボトルの見た目が良い。</p>

<p>ついでに、ガスコンロの<a href="https://ja.wikipedia.org/wiki/%E4%BA%94%E5%BE%B3">五徳</a>は使うときだけ付ける運用に変更した。この器具に五徳という名前が付いていることも、この文章を書いていて初めて知った。中国古代の鼎（かなえ）という器に由来する名前らしい。</p>

<p>更に五徳について調べていたら、<a href="https://roomclip.jp/tag/762071">五徳は使うときだけ界隈</a>が存在することも知った。最近、家事について調べものをしている関係でよく見かけるようになったのだけど、RoomClipは本当にすごい。和気あいあいとした雰囲気でたくさんの知見が共有されていて、自分のようなソフトウェアエンジニアにとっても見習うべきところが沢山あるだろう。</p>

<p>あらためて写真を見ながら振り返っていると、吊っている物達が混雑しているので、適当なツールハンガーが欲しかったことを思い出した。うちのフードハンガーには、四隅の部分にしかものを引っ掛けられる部分が無い。そうなると、壁に吸盤で付けられるような強力なツールハンガーが必要になる。</p>

<p>吸盤にレバーかダイヤル的な装置が付いていることを必須条件として色々探した結果、<a href="https://www.amazon.co.jp/dp/B073J5NZK2/?tag=r7kamura07-22">レックのツールハンガー</a>か、<a href="https://www.amazon.co.jp/dp/B0768WLZNB/?tag=r7kamura07-22">MaxHoldのツールハンガー</a>が良さそうだと思って眺めてみている。特にレックのやつは長さや角度調節もできるので、これで吸着力にさえ問題が無ければとても良さそう。</p>
]]></content:encoded>
      <guid>https://r7kamura.com/articles/2020-10-05-gotoku</guid>
    </item>
    
    <item>
      <title><![CDATA[料理メモ]]></title>
      <description><![CDATA[基本的に1.6L版のホットクックで自炊をしている。]]></description>
      <link>https://r7kamura.com/articles/2020-10-05-cooking-memo</link>
      <pubDate>Mon, 05 Oct 2020 00:00:00 +0900</pubDate>
      <content:encoded><![CDATA[<figure><a href="/images/2020-10-05-cooking-memo.jpg" target="_blank"><img src="/images/2020-10-05-cooking-memo.jpg" alt=""></a><figcaption>冷凍の鍋用野菜と鶏肉をホットクックにぶち込んでいる</figcaption></figure>

<p>基本的に<a href="https://www.amazon.co.jp/dp/B07TWPRHHJ/?tag=r7kamura07-22">1.6L版のホットクック</a>で自炊をしている。2020年9月に<a href="https://www.amazon.co.jp/dp/B08HMF4W7S/?tag=r7kamura07-22">新しいモデル</a>が出たので、今から買う人はこちらを買うのが良いと思う。</p>

<ul>
<li>それだけ食べていてもそこそこ健康を保てる</li>
<li>やる気が無くてもつくれる</li>
<li>材料の入手性が高い</li>
<li>買い物を増やさない</li>
<li>再現性がある</li>
<li>腐りにくい</li>
</ul>

<p>というレシピを模索している。より美味しくより綺麗にを志向した料理の話はよく見る一方、より怠惰により健康にを志向した料理の話はあまり見ないので、もっとそういう情報が欲しいと思っている。</p>

<p>料理のレシピには、調理だけでなく買い物に関するワークフローまで含まれていてほしい。どちらかと言うと、買い物側が料理の本体であるとすら感じる。例えば、自作PCをつくろうとすると、パーツを選ぶところが9割みたいな状態になる。あれに近い感覚。</p>

<p>今年からAmazonフレッシュを利用するようになったが、自分的にはこれのおかげで料理が革命的に楽になった。Amazonでは、フレッシュの商品も含めると大体この辺りによくお世話になっている。</p>

<ul>
<li><a href="https://www.amazon.co.jp/dp/B009AO9U0I/?tag=r7kamura07-22">大冷 カレー用野菜ミックス</a></li>
<li><a href="https://www.amazon.co.jp/dp/B06W54PTGF/?tag=r7kamura07-22">ハウス きわだちカレー</a></li>
<li><a href="https://www.amazon.co.jp/dp/B00BHOJY3M/?tag=r7kamura07-22">ニッスイ シーフードミックス</a></li>
<li><a href="https://www.amazon.co.jp/dp/B00FQCHFBY/?tag=r7kamura07-22">マ・マー 早ゆで3分スパゲティ</a></li>
<li><a href="https://www.amazon.co.jp/dp/B07DDC3HTT/?tag=r7kamura07-22">冷凍若鶏もも肉切り身</a></li>
<li><a href="https://www.amazon.co.jp/dp/B07L2ZP2XT/?tag=r7kamura07-22">鍋用野菜セット</a></li>
<li><a href="https://www.amazon.co.jp/dp/B01LXZARKE/?tag=r7kamura07-22">タカナシ 牛乳</a></li>
<li><a href="https://www.amazon.co.jp/dp/B003H577UG/?tag=r7kamura07-22">小岩井 プレーンヨーグルト</a></li>
</ul>

<p>再利用性を高めるために、できるだけAmazonで揃えようとしている節がある。最低限生活を維持できるように環境を整えておくことで、料理自体を嫌いにならず、いわゆる趣味の料理とも付き合いやすくしようとしている。</p>
]]></content:encoded>
      <guid>https://r7kamura.com/articles/2020-10-05-cooking-memo</guid>
    </item>
    
    <item>
      <title><![CDATA[Windowsへの回帰]]></title>
      <description><![CDATA[開発環境をMacからWindowsに切り替えたことについて、実際どうですかと聞かれることが何度かあったので、そのときも話した現在の所感みたいなものを書き残しておく。]]></description>
      <link>https://r7kamura.com/articles/2020-10-04-windows-revolution</link>
      <pubDate>Sun, 04 Oct 2020 00:00:00 +0900</pubDate>
      <content:encoded><![CDATA[<p><a href="/articles/2020-09-28-development-on-windows">開発環境をMacからWindowsに切り替えた</a>ことについて、実際どうですかと聞かれることが何度かあったので、そのときも話した現在の所感みたいなものを書き残しておく。</p>

<p>結論すると、移行後の環境をかなり気に入っている。</p>

<figure><a href="/images/2020-10-04-windows.jpg" target="_blank"><img src="/images/2020-10-04-windows.jpg" alt=""></a><figcaption>1996年のカリフォルニア州</figcaption></figure>

<p>2～3日は主にメタキー周りのキーバインドや見てくれの違いに戸惑い、幾らか離脱症状が出たものの、1週間もすれば流石に慣れてきて、最終的に、個人の用途ではMacを全く触らなくなった。開発環境がMacを前提としている仕事先があったり、貸与されたPCで作業する仕事先があったりするので、完全に触っていない訳ではない。</p>

<p>よくよく比較してみると、あると嬉しい便利機能がOSから提供されていることが多くて、これは意外なところだった。例えば、クリップボードの履歴を残しておいて呼び出せるようにする (Windows + Vキー) とか、ぶっ壊れたときに少し前の状態に戻す (システムの復元) だとか、スナップ機能 (Windows + 矢印キー) とか。細かい使い勝手の善し悪しはどうあれ、少なくとも作り手と同じ方向を向いている感覚がして安心する。</p>

<p>更に取り留めのない所感を羅列していくと、Winodwsはキーバインドが全体的にPageUpキーやHomeキーなどの存在を前提としているようなつくりになっているのを感じる。音声や画面の入出力周りが意外としっかりしていて、特にディスプレイ接続周りは問題が起きにくい。ゲームが沢山動いてたのしい。セキュリテイ周りにはなんとなく不安を感じる。Docker DesktopはMacのものより少し暴走しがちでかわいい。</p>

<p>面白かったのが、ある朝起きてMacの画面を見たら、なんか画面がぼやけて上手く映らないという症状を感じたところ。再起動したりHDMIケーブルを抜き差ししたりしてみた結果、実はただMacのアンチエイリアス効果を見慣れていなくて、ぼやけているように感じてしまっているだけだったという。Windowsは良くも悪くもはっきりしている。</p>

<hr>

<p>今が移行すべき時期なのか、もう少し待った方が良いのかという話については、うーん、どうだろう。人によると思うので、物事を試すには今が常に最良のタイミングですみたいなことしか言えない。正直最近のMacからはなんとなく崩壊の足音が聞こえてきているような、薄っすらとした不安があったりもするけれど、未来のことについては何もわからないし、自分たちで良い環境をつくっていくしかないと思う。Macは幼い頃から慣れ親しんできたOSなので、これからもどんどん良くなっていってほしいし、一方で最近のMicrosoftにも新しい風が吹きつつあるのを感じるし、大いに期待している。</p>

<p>まあそういう情勢の考慮とかは正直どうでも良くて、新しいものを試すことは単純に楽しいので、暇があるならやるべき。忙しくて余裕が無いような人にはおすすめしないけど、何か面白いものを探している人にとっては完全に良いものだと思う。いろいろと課題が出てくるけど、それらを解決する過程で学ぶことも多い。別に何か高尚なことをしていたり、社会の問題を解決している訳ではないけれど、自分の問題を自分で解決していくという純粋な楽しさがあるし、そういう個人的なあれこれをブログに書いたりして分かち合うこともまた楽しい……とか書いていたらまたウェブ縄文時代みたいな結論に収束してしまいそうだ。</p>

<p>個人サイトの再興とWindowsへの回帰という二つのムーブメントが、ここにきてようやくの合流を果たし、自分の中で完全にRepublic of ウェブ縄文時代の流れがやってきてしまったようだ。</p>
]]></content:encoded>
      <guid>https://r7kamura.com/articles/2020-10-04-windows-revolution</guid>
    </item>
    
    <item>
      <title><![CDATA[Atom 1.0からRSS 2.0に移行]]></title>
      <description><![CDATA[このサイトのフィードをAtom 1.0からRSS 2.0に移行した。]]></description>
      <link>https://r7kamura.com/articles/2020-10-04-rss</link>
      <pubDate>Sun, 04 Oct 2020 00:00:00 +0900</pubDate>
      <content:encoded><![CDATA[<p><a href="/images/2020-10-04-rss.png" target="_blank"><img src="/images/2020-10-04-rss.png" alt=""></a></p>

<p><a href="/feed.xml">このサイトのフィード</a>をAtom 1.0からRSS 2.0に移行した。</p>

<p>既にフィードを購読中の方は、直近で最大20件の記事が未読状態に戻ってしまうかもしれません。ご不便おかけしますが、ご容赦ください。</p>

<p>会話では俗語表現としてフィードのことをRSSと呼称しがちな一方で、Atomを使っているとそのように呼称しづらい、というわだかまりを抱えており、あと単に両方の仕様の癖を肌感として知っておきたいという気持ちもあったので、移行してみたという経緯。</p>

<p>ただ、自分は記事公開後にも少しずつ内容を編集していくようなスタイルで文章を書いていたりするので、公開してすぐの初期状態を長期間キャッシュしてしまうフィードリーダーとは、なかなか相性が悪かったりする。なので、本当はサイトに直接訪れて読んでくれると嬉しいなという気持ちではいます。</p>
]]></content:encoded>
      <guid>https://r7kamura.com/articles/2020-10-04-rss</guid>
    </item>
    
    <item>
      <title><![CDATA[いきなりハッカソン]]></title>
      <description><![CDATA[まとまった時間をとって個人的な作業をやる機会があり、色々とやった。]]></description>
      <link>https://r7kamura.com/articles/2020-10-04-ikinari-hackathon</link>
      <pubDate>Sun, 04 Oct 2020 00:00:00 +0900</pubDate>
      <content:encoded><![CDATA[<p>まとまった時間をとって個人的な作業をやる機会があり、色々とやった。</p>

<ul>
<li>はてなブログ由来の記事の本文をHTMLからMarkdownに変換した</li>
<li>一部の画像のリンク切れを直した</li>
<li>Amazonの商品ページへのリンクを一括で書き換えた</li>
<li>古い記事のMarkdownの体裁を整えた</li>
<li><a href="/articles/2020-10-04-rss">フィードをAtom 1.0からRSS 2.0にした</a></li>
<li>記事の先頭付近から説明文を抽出するロジックを改善した</li>
<li>検索由来のアクセスが多そうな古い記事に追記を加えた</li>
<li>国勢調査オンラインで回答した</li>
<li>持続化給付金の申請をした</li>
<li>使っていないPlayStation Plusの自動更新を止めた</li>
<li>使っていないNintendo Onlineの自動更新を止めた</li>
<li>Amazon RDSの不要なバックアップを消した</li>
</ul>

<p>HTMLからMarkdownへの変換には、あまり期待せずに<a href="https://github.com/xijo/reverse_markdown">reverse_markdown</a>というのを使ってみたところ、意外とまともなものが出力されたので体験が良かった。過去に各種サービスから<a href="/articles/2019-11-16-moving-text">テキストの引っ越し</a>をしてきたときに、記事のメタデータに移行元の情報を含めておいたのが、今になってとても役立っている。</p>

<p>そのうちやりたいことも挙げておく。将来の自分がいつかやってくれるかもしれないし、結局やってなくて苦笑いしながら振り返ってくれるかも。</p>

<ul>
<li>画像の配信元をまとめる</li>
<li>画像の最適化ルールを決めて運用する</li>
<li>CSSをリファクタリングして確認用ページを用意する</li>
<li>新しい記事の雛形生成スクリプトをつくる</li>
<li>他の方の個人サイトへのリンクを掲載するか真面目に検討する</li>
</ul>
]]></content:encoded>
      <guid>https://r7kamura.com/articles/2020-10-04-ikinari-hackathon</guid>
    </item>
    
    <item>
      <title><![CDATA[active_record-connection_proxy]]></title>
      <description><![CDATA[ActiveRecordで複数DBというか複数の接続設定に対応するために、active_record-connection_proxyというライブラリをつくった。]]></description>
      <link>https://r7kamura.com/articles/2020-10-03-active-record-connection-proxy</link>
      <pubDate>Sat, 03 Oct 2020 00:00:00 +0900</pubDate>
      <content:encoded><![CDATA[<p>ActiveRecordで複数DBというか複数の接続設定に対応するために、<a href="https://github.com/r7kamura/active_record-connection_proxy">active_record-connection_proxy</a>というライブラリをつくった。</p>

<p>元々は、とあるアプリのRails 4.2から5.0へのアップグレードで必要になってつくった実装だったが、せっかくなのでライブラリ化して公開することにした。</p>

<p>ちなみに、このライブラリは以下の問題意識を背景につくられた。</p>

<ul>
<li>Rails 6.0の複数DB用対応はRails 6.0からしか使えない</li>
<li>巷のライブラリはreadとwriteの二択にしか対応していないものが多い</li>
<li>コード量が多いライブラリだといざというときやめにくい</li>
<li>ブロック形式だとメソッドチェーン方式の既存コードを移行しにくい</li>
</ul>

<p>かなり雑なつくりになっていて笑っちゃうんだけど、贔屓目にとらえると、パーツだけ提供して、組み立ては利用者にやってもらうという形式が面白いところだと思う。ライブラリを読み込むだけでいい感じに全部やってくれたりすることはないので、自分で組み立てる楽しさと安心感を利用者に感じてもらいたい。</p>

<p>実際のところ、ライブラリはProxyというクラスだけを提供していて、実質30行ぐらいしか実装が無い。ではこのライブラリが本質的に何を提供しているのかというと、connectionを他のモデルから借りてくるだけで上手くいくんじゃない？というアイデアを提供しているのだと思う。そして、実際のところはしっかりやろうとするとクエリキャッシュの管理で上手くいかないかったりする。</p>
]]></content:encoded>
      <guid>https://r7kamura.com/articles/2020-10-03-active-record-connection-proxy</guid>
    </item>
    
    <item>
      <title><![CDATA[日付の位置、ウェブページへの言及、原神]]></title>
      <description><![CDATA[雑多な日記。]]></description>
      <link>https://r7kamura.com/articles/2020-10-02-notes</link>
      <pubDate>Fri, 02 Oct 2020 00:00:00 +0900</pubDate>
      <content:encoded><![CDATA[<p>雑多な日記。</p>

<h2>日付の位置</h2>

<p>朝起きて自分のサイトを見たら急に発作が起き、気持ち悪くなって日付の位置を移動させた。日付を移動させると、いつの間にか発作は収まっていた。不思議なこともあるものだ。二度寝した後でコミットログを読むと、「ブログにおいてはそれがいつ書かれたかが特に重要であることに気付いた」とか調子のいいことが書かれていた。</p>

<h2>ウェブページへの言及</h2>

<p><a href="https://hail2u.net">hail2uさんのサイト</a>みたいに、その日見たウェブページに関する簡単なコメントをまとめておくための独立したページが欲しくなってきた。というのも、SNSなどで言及するには何か温度感が違いすぎるような感じがするし、かといって日記で細かく言及しようとすると下手に悪目立ちしそうで、何となく躊躇してしまっているため。現状零れ落ちてしまっている何かが、そこですくい取れるかもしれない。</p>

<h2>原神</h2>

<figure><a href="/images/2020-10-02-genshin.png" target="_blank"><img src="/images/2020-10-02-genshin.png" alt=""></a><figcaption>原神・モンド城下町</figcaption></figure>

<p>『<a href="https://genshin.mihoyo.com/ja">原神</a>』をゆっくり進めている。攻略に目がない人達が落としてくれたお金で開発が進む、ものすごく高品質な箱庭ゲームだと捉えている節がある。世界を救う旅人というよりは、街で生活するカメラが好きな一般人として過ごしている。</p>

<p>あまり切迫した状況になっておらず、適当に散策していても世界への申し訳無さを感じないところが良い。FF14で光の戦士をやっていた頃は、世界を救わなければならないという焦燥感みたいなものを、心のどこかで常に感じていた。</p>

<hr>

<p>Twitterカードで画像が展開されないなと思って詳しく調べたら、<a href="https://developer.twitter.com/en/docs/twitter-for-websites/cards/overview/summary-card-with-large-image">Twitterカードのドキュメント</a>に画像は最大5MBまでと書かれており、配信している画像を調べてみたら幾つかの画像がそれを超過していた。</p>

<blockquote>
<p>Images for this Card support an aspect ratio of 2:1 with minimum dimensions of 300x157 or maximum of 4096x4096 pixels. Images must be less than 5MB in size. JPG, PNG, WEBP and GIF formats are supported.</p>
</blockquote>

<p>サイズが上位20件以内の画像を見つけ、最大幅1920pxに変換することで、適当にやりすごすことにした。</p>

<pre><code>du -k static/images/* \
  | sort -rn \
  | head -n 20 \
  | cut -f 2 \
  | xargs mogrify -resize 1920x
</code></pre>
]]></content:encoded>
      <guid>https://r7kamura.com/articles/2020-10-02-notes</guid>
    </item>
    
    <item>
      <title><![CDATA[水出しコーヒー、ポット、シロップ]]></title>
      <description><![CDATA[水出しコーヒーをもっと沢山つくりたいと思い、AmazonでHARIOのガラス製のポットを買った。]]></description>
      <link>https://r7kamura.com/articles/2020-10-01-coffee</link>
      <pubDate>Thu, 01 Oct 2020 00:00:00 +0900</pubDate>
      <content:encoded><![CDATA[<figure><a href="/images/2020-10-01-coffee.jpg" target="_blank"><img src="/images/2020-10-01-coffee.jpg" alt=""></a><figcaption>水出しコーヒーを入れた様子</figcaption></figure>

<p>水出しコーヒーをもっと沢山つくりたいと思い、Amazonで<a href="https://www.amazon.co.jp/dp/B079YRR9ZM/?tag=r7kamura07-22">HARIOのガラス製のポット</a>を買った。洗いやすさを重視して、中にフィルターなどが含まれていないタイプにした。これくらいの容量になると、重さもあるので、取っ手が付いている方が使いやすい。</p>

<p>コーヒーバッグには、<a href="https://www.amazon.co.jp/dp/B085D1F221/?tag=r7kamura07-22">キーコーヒーの香味まろやか水出し珈琲</a>というやつを使っている。一つ一つのパックがプラスチックの袋で個包装されているので、ジップを丁寧に締めたりする必要がないところが気に入っている。前は更に美味しい粉が無いか探していたこともあったが、いまは手に入りやすいキーコーヒーのやつを買うようにしている。規格化された、いつも変わらない味が良い。</p>

<p>ここ最近、<a href="https://www.amazon.co.jp/dp/B002XCT5FY/?tag=r7kamura07-22">明治屋のガムシロップ</a>を試してみている。少し良いガムシロップを入れるだけでかなり体験が良い、ということが分かった。瓶の見た目はかっこいいのたけど、この構造だと入れたあと口から液が垂れる可能性があるところが不満点。次の作戦として、<a href="https://www.amazon.co.jp/dp/B001HM3FFM/?tag=r7kamura07-22">モナンのバニラシロップ</a>を買って、<a href="https://www.amazon.co.jp/dp/B00DJ551LG/?tag=r7kamura07-22">専用のポンプ</a>を付けて使おうかなと考えてみている。</p>
]]></content:encoded>
      <guid>https://r7kamura.com/articles/2020-10-01-coffee</guid>
    </item>
    
    <item>
      <title><![CDATA[Bashのプロンプトと非印刷文字の幅計算]]></title>
      <description><![CDATA[Bashでプロンプトをカスタマイズしようとしてはまったが解決した。]]></description>
      <link>https://r7kamura.com/articles/2020-10-01-bash-prompt</link>
      <pubDate>Thu, 01 Oct 2020 00:00:00 +0900</pubDate>
      <content:encoded><![CDATA[<p>Bashでプロンプトをカスタマイズしようとしてはまったが解決した。</p>

<h2>Bashのプロンプトで使える制御文字</h2>

<p>Bashでプロンプトを指定する際には、<a href="https://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html#Controlling-the-Prompt">Bashのマニュアルのプロンプト制御の項目</a>にも記載されているように、幾つかの制御文字が利用できるようになっている。この中で、例えばANSIエスケープシーケンスのような非印刷文字をプロンプトで利用するとき、プロンプトの幅を正しく計算させるために、<code>\[</code> と <code>\]</code> という制御文字が提供されている。</p>

<blockquote>
<p><code>\[</code>
Begin a sequence of non-printing characters. This could be used to embed a terminal control sequence into the prompt.</p>

<p><code>\]</code>
End a sequence of non-printing characters.</p>
</blockquote>

<p>このように <code>\[</code> と <code>\]</code> で非印刷文字を囲ってあげることで、プロンプトを扱うBashが上手く幅を計算してくれるようになる。逆にこれをやらないと、例えば端末での折返し時や、カーソル位置を動かすような処理（例えばコマンド履歴のインクリメンタル検索など）で表示が崩れてしまうことになる。</p>

<pre><code>export PS1='\[\033[01;33m$\033[00m\] '
</code></pre>

<h2>関数内での制御文字の利用</h2>

<p>さて、ここで実装を分かりやすくするために処理を関数にまとめようとしたところ、<code>\[</code> と <code>\]</code> が制御文字として扱われてくれないというところで困った。関数の中で同じように文字列を出力しようとすると、<code>\[$\]</code> のような見た目のプロンプトになってしまう。</p>

<pre><code>prompt() {
  echo -e '\[\033[01;33m$\033[00m\] '
}

export PS1='$(prompt)'
</code></pre>

<p>解決策としては、<a href="https://stackoverflow.com/questions/24839271/bash-ps1-line-wrap-issue-with-non-printing-characters-from-an-external-command">同様の問題へのStackOverflowでの回答</a>を参考に、<code>\[</code> と <code>\]</code> の代わりに <code>\001</code> と <code>\002</code> を使うことで解決した。ちなみに、同回答で提案されていた <code>PROMPT_COMMAND</code> を使う方法でも同様に解決することは確認できたが、前者の解決策の方が分かりやすそうだったのでこちらを使うことに。</p>

<pre><code>prompt() {
  echo -e '\001\033[01;33m$\033[00m\002 '
}

export PS1='$(prompt)'
</code></pre>

<hr>

<p>何が原因かよくわからない状態でとりあえず表示が崩れて困っている旨をTwitterに投稿したところ、丁寧に教えてくれたhirose31さんに感謝。</p>
]]></content:encoded>
      <guid>https://r7kamura.com/articles/2020-10-01-bash-prompt</guid>
    </item>
    
    <item>
      <title><![CDATA[dotfilesの整理]]></title>
      <description><![CDATA[主な開発環境がUbuntuに移ったということもあり、dotfilesを整理していた。]]></description>
      <link>https://r7kamura.com/articles/2020-09-30-dotfiles</link>
      <pubDate>Wed, 30 Sep 2020 00:00:00 +0900</pubDate>
      <content:encoded><![CDATA[<p>主な開発環境がUbuntuに移ったということもあり、<a href="https://github.com/r7kamura/dotfiles">dotfiles</a>を整理していた。</p>

<figure><a href="https://raw.githubusercontent.com/serverkit/serverkit/master/images/server.png" target="_blank"><img src="https://raw.githubusercontent.com/serverkit/serverkit/master/images/server.png" alt=""></a><figcaption>serverkitの象徴 / 1041uuuさんに描いてもらった</figcaption></figure>

<p>かなり放置気味のリポジトリだったので、4年ぶりに更新することになった。以前は豪華なインストーラを付けたりして、Xcodeインストール済みのMacをコマンド1発でセットアップできるというところに価値を置いていた。</p>

<p>このために<a href="https://github.com/serverkit/serverkit">serverkit</a>というツールも自作していて、全面的にそれを利用するようなつくりになっていた。
YAMLで設定を書いたら適用出来るというやつ。AnsibleのRuby版みたいなもの。内部がかなりプラグイン化されていて、自分の用途の都合上、Macの設定を変えるようなプラグインが多い。例えば、Dockの設定を変えたり、Homebrewの管理をしたり。</p>

<p>当時サバにハマってて、Twitterで「サバッッッ」とか言ってたら1041uuuさんがサバの絵を上げてくれて、使っていいとのことだったので、ありがたくserverkitの絵として使わせてもらっている。正直サバの絵が嬉しかったので当時開発を続けていたようなところはある。</p>

<hr>

<p>当時の様子とは打って変わって、2020年のdotfilesにはほとんど中身が無くなってしまった。プロンプトの簡単な設定と、手癖になってしまっているalias群。それから、GitとTigの設定がおまけ程度にあるぐらい。</p>

<figure><a href="/images/2020-09-30-dotfiles-terminal.png" target="_blank"><img src="/images/2020-09-30-dotfiles-terminal.png" alt=""></a><figcaption>現在の端末の様子</figcaption></figure>

<p>こだわりや熱量が無くなったわけではなくて、思考を妨げないクリーンな環境や、長く生き残れる単純で強い環境に、これまでと比べてより執着するようになってきているのだと思う。</p>
]]></content:encoded>
      <guid>https://r7kamura.com/articles/2020-09-30-dotfiles</guid>
    </item>
    
    <item>
      <title><![CDATA[原神、Windowsの思い出し]]></title>
      <description><![CDATA[Winodowsで遊びながら、ゲームで癒やされる一日だった。]]></description>
      <link>https://r7kamura.com/articles/2020-09-29-genshin-windows</link>
      <pubDate>Tue, 29 Sep 2020 00:00:00 +0900</pubDate>
      <content:encoded><![CDATA[<p>Winodowsで遊びながら、ゲームで癒やされる一日だった。</p>

<h2>原神</h2>

<p>楽しみにしていたゲーム『原神』のリリース日だったので、仕事終わりにしばらくプレイしていた。最初は日記としてこの記事に感想を書いていたのだけど、せっかくなので<a href="/articles/2020-09-29-genshin-1st-impression">『原神』第一印象</a>という記事にまとめることにした。</p>

<p>ある程度の規模の話題になると、あとから言及したくなることが多い。1つのURLに1つの話題が割り当てられている方が、リンクで参照しやすく、チャットに貼って盛り上がったりしやすい。</p>

<h2>Windowsの思い出し</h2>

<p>メインで利用する環境をMacからWindowsに移して、ようやく慣れつつある。</p>

<p>Windowsは1990年代から2010年頃までメインで使っていたが、ここ10年間ほどはMacを使うばかりで、Windowsはほぼゲームを起動するだけの用途でしか使ってこなかった。今日も<a href="https://r7kamura.com/articles/2020-09-28-power-toys">PowerToysで豪遊</a>してツールを入れたりぶっ壊したり復元したりしていたら、ようやく勘を取り戻してきた。</p>

<p>MacのFinderもそうだったけど、エクスプローラの挙動にもなかなか癖があると思う。現代ではElectronみたいな手軽な実現方法もあることだし、お気に入りのファイラーを自作すべきなのかもしれない。</p>
]]></content:encoded>
      <guid>https://r7kamura.com/articles/2020-09-29-genshin-windows</guid>
    </item>
    
    <item>
      <title><![CDATA[『原神』第一印象]]></title>
      <description><![CDATA[2020年9月28日にリリースされたゲーム『原神』を早速やりはじめた。]]></description>
      <link>https://r7kamura.com/articles/2020-09-29-genshin-1st-impression</link>
      <pubDate>Tue, 29 Sep 2020 00:00:00 +0900</pubDate>
      <content:encoded><![CDATA[<figure><a href="/images/2020-09-29-genshin-night.png" target="_blank"><img src="/images/2020-09-29-genshin-night.png" alt=""></a><figcaption>最初に訪れる街の夜</figcaption></figure>

<p>2020年9月28日にリリースされたゲーム『<a href="https://genshin.mihoyo.com/ja">原神</a>』を早速やりはじめた。</p>

<p>少しプレイした感触では、個人的にかなりの好印象。体験の質が良くなるように努力されている要素が多いのを感じる。こういう、作り手のやりたいことが理解でき、その努力が少し透けて見えるような作品は好き。好きな要素もあり、嫌いな要素もあるが、好きな要素が一つでも見つけられればそれで良い。</p>

<p>一方で、競争心に駆られると途端につまらなくなる可能性のある作品だと思ったので、たくさん休憩しながら一人でまったりやろうかなと思っている。ゲーム内のキャラクター達もひたすらに休憩を勧めてくる。</p>

<p>ゲーム内のUIやカメラワークの設計、モデルの細かい意匠なんかを延々と眺めていたら、ゲーム序盤の街にたどり着くまで数時間も掛かっており、ストーリーが全く進んでいない。しかしそれで良いのかもしれない。</p>

<figure><a href="/images/2020-09-29-genshin-evening.png" target="_blank"><img src="/images/2020-09-29-genshin-evening.png" alt=""></a><figcaption>休憩して夕焼けを見ている</figcaption></figure>

<p>UIのデザインは、最近の異世界系アニメ内の表現に見られるようなフラットなもので、『ソードアート・オンライン』や『盾の勇者の成り上がり』の中に出てくるような表現に近しさを感じた。どちらかと言うとWebのコンテキストのデザインに近いものを感じて、なんというか全体的に安心する。</p>

<p>手を止めていろんなものを眺めてみると、アニメーションや意匠などを含めて、とにかく細部へのこだわりを感じる。ステータス画面ひとつ取ってみても、受け入れやすい見た目でありながら、格好良さと可愛さの調和が取れたデザインになっている。</p>

<figure>
<div style="padding:41.87% 0 0 0;position:relative;"><iframe src="https://player.vimeo.com/video/462735403?title=0&amp;byline=0&amp;portrait=0" style="position:absolute;top:0;left:0;width:100%;height:100%;" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe></div>
<figcaption>ステータス画面</figcaption>
</figure>

<script src="https://player.vimeo.com/api/player.js"></script>

<p>そこまで期待していなかったにも関わらず、戦闘や探索も、魔法の組み合わせでいろいろ試すのが思っていたより楽しい。ゼルダの伝説やSpell Breakをプレイしたときにも感じたことだけど、こういう、小さくてシンプルな要素を組み合わせて大きな力を発生させるタイプの仕組みは、賢く立ち回ることで健康的な達成感が得られて、非常に良い。UNIX哲学的な感じで、プログラミングにおける達成感に近いものがある。</p>

<p>プレイ前はゼルダの伝説ライクな見た目だなと言う印象が強かったものの、プレイしてみると、数多のゲームの要素が取り入れられていることが分かる。洋ゲーとかにありがちなこの要素をこうデザインするのか…イケてる…といった感想が沢山出てくるので、そういう見方でプレイしていても非常に楽しい。</p>

<p>これら盛り沢山な要素を、多少の綻びはあれど破綻無く上手くまとめられているバランス感覚の良さ、総じてアリと言わせるレベルの品質に持っていけている技術力の高さこそ褒められるべきところだと思う。</p>
]]></content:encoded>
      <guid>https://r7kamura.com/articles/2020-09-29-genshin-1st-impression</guid>
    </item>
    
  </channel>
</rss>
